#pragma once

#include "../../pch.h"
#include "../../configuration/options/Options.h"
#include "../../application/structs/ItemData.h"
#include "../../application/structs/WeightedRandomSelector.h"
#include "../../application/structs/UnlockStatus.h"

class ReactionManager
{
public:
    static ReactionManager& Init(Options& options, Settings& settings)
    {
        if (_instance == nullptr)
            _instance = new ReactionManager(options, settings);
        return *_instance;
    }
    void UpdateUnlockStatus(UnlockStatus newUnlockStatus);
    void PlayRandomVoiceForItem(const ItemData& item, int64_t itemId) const;
    void PlayRandomTrapVoice(FillerType filler);

private:
    explicit ReactionManager(Options& options, Settings& settings);
    inline static ReactionManager* _instance = nullptr;
    Options& _options;
    Settings& _settings;
    UnlockStatus _unlockStatus;
    std::map<int, std::string> _commentMap = {
        {498, "Long time no see."},
        {860, "Long time; no see!"},
        {364, "Looking good; buddy!"},
        {363, "Sensors detecting life."},
        {2013, "Hmm... I wonder what those guys are doing?"},
        {277, "I wanna go shopping!"},
        {324, "I'm going to do my best; Sonic."},
        {1730, "It's my turn now!"},
        {499, "Uhhh eh; Amy!"},
        {512, "Aw; man! That girl is such a pain!"},
        {861, "Y-ah-uhh... Amy!"},
        {1492, "Amy!"},
        {959, "Amy; come on; let's get going!"},
        {367, "I wanna go fishing!"},
        {566, "I must save Froggy!"},
        {1335, "Froggy?"},
        {1342, "Mm; smells like Froggy's around somewhere..."},
        {1744, "Hold on Froggy! I'm coming!"},
        {1876, "Okay! One more time!"},
        {2012, "Froggy? Where are you?"},
        {2024, "Hope you find Froggy soon!"},
        {394, "Combat system activated."},
        {543, "What is your wish; master Robotnik?"},
        {775, "What is your wish; Master?"},
        {932, "At your service; sir."},
        {1276, "How can I serve you; Dr. Robotnik?"},
        {1767, "Preperation complete."},
        {504, "Look! One of Eggman's robots."},
        {551, "This robot is my friend. He helped me!"},
        {870, "Aahh; look! Eggman's robot's on the loose!"},
        {911, "You're different from the other robots."},
        {943, "This robot is different."},
        {1292, "And how are you; my metal friend?"},
        {1008, "Huh? Who are you?"},
        {1121, "Hey; isn't that one of Eggman's robots?"},
        {265, "I smell oil."},
        {378, "Something's different about this robot."},
        {542, "GAMMA!!"},
        {779, "I'll leave it up to you; Gamma."},
        {931, "Gamma!"},
        {1174, "E-102; Codename: Gamma!"},
        {1179, "Enter; Gamma!"},
        {1186, "Okay then; Gamma. Here's your test!"},
        {1280, "I'm counting on you Gamma!"},
        {261, "Okay now; where's the treasure?"},
        {308, "I've got to find the Master Emerald."},
        {709, "I have some unfinished business to take care of."},
        {1123, "Here I come; Eggman!"},
        {1787, "Okay! Let's go!"},
        {370, "What's up; Knuckles?"},
        {579, "Hey there; Knuckles. Glad you finally made it!\nI thought you got lost or something."},
        {604, "What's up; Knuckles?"},
        {1148, "There you are Knuckles! About time."},
        {238, "What's the smell? Smells like trash!"},
        {679, "Hey Knuckles; what's up?"},
        {1036, "Kn- Knuckles!"},
        {206, "Hey; hey; hey!"},
        {242, "Watch and learn!"},
        {248, "Time for some supersonic speed!"},
        {349, "Yo! Have you guys been good?"},
        {374, "You've had your fun. Now it's my turn!"},
        {410, "This could be fun!"},
        {568, "Just leave it to me!"},
        {247, "I wonder where Sonic went."},
        {360, "If only Sonic were here."},
        {857, "Oh; Sonic!"},
        {858, "(dreamy sigh) My hero!"},
        {964, "I wonder what Sonic is doing."},
        {1491, "Hey; Sonic!"},
        {1147, "Hey Sonic!"},
        {417, "Hey; Sonic! Long time no see; huh?"},
        {455, "Sonic!"},
        {471, "Come on; Sonic; we need to get busy!"},
        {525, "Hey; Sonic!"},
        {760, "There's Sonic!"},
        {1091, "Hurry Sonic! What're we waiting for?"},
        {1408, "Sonic!"},
        {1451, "Sonic; wake up!"},
        {1512, "Sonic?"},
        {235, "I wonder where Sonic is."},
        {431, "Ha ha ha ha! If it isn't Sonic!"},
        {601, "Well; if it isn't my pal; Sonic."},
        {1392, "Ooh; I hate that Sonic!"},
        {1713, "Sonic! It's up to you now."},
        {1714, "Be brave; blue hedgehog."},
        {243, "Time to jam!"},
        {275, "Boy; I'm hungry."},
        {352, "How's it goin' guys?"},
        {375, "C'mon Tails; you can do it!"},
        {528, "Roger!"},
        {617, "All systems go; full speed ahead!"},
        {753, "The time has come at last."},
        {757, "Ready Sonic? Here I come!"},
        {1800, "Here I come; Sonic!"},
        {205, "Come on; Tails!"},
        {207, "All right; Tails!"},
        {208, "Hey; Tails!"},
        {414, "Wha? Tails?!"},
        {526, "Tails! I'm glad you're okay."},
        {527, "Ready to roll; champ? Let's go!"},
        {219, "You little fox!"},
        {478, "That's a Chaos Emerald!"},
        {1076, "(gasp) That's... a Chaos Emerald!"},
        {1142, "Look! It's the Emerald!"},
        {425, "Whoa! A Chaos Emerald!"},
        {632, "It's a Chaos Emerald! No way!"},
        {427, "This thing's got unlimited power; ya know."},
        {539, "A Chaos Emerald!"},
        {633, "I was lucky to find one of the seven Chaos Emeralds."},
        {670, "The Chaos Emerald!"},
        {726, "Wow! There's a Chaos Emerald!"},
        {751, "Oh yeah; the Chaos Emerald. Perfect!"},
        {771, "That's a Chaos Emerald!"},
        {928, "It's a Chaos Emerald!"},
        {438, "I want all of the Chaos Emeralds."},
        {445, "Come on Chaos; time to eat!"},
        {450, "His strength increases every time\n I feed him a Chaos Emerald!"},
        {487, "These are for you; my friend!"},
        {652, "Chaos could use a little snack!"},
        {485, "Now I have four lovely Emeralds!"},
        {697, "Ha ha ha ha! Four! Count them; four Emeralds!"},
        {1083, "Hahahahaha! I've got four Emeralds now."},
        {570, "Now I have six of the Chaos Emeralds!"},
        {571, "There's only one more left to find!"},
        {1355, "So these are the seven Emeralds."},
        {1231, "Ahh! There it is! Right there!!"},
        {1352, "Wow..."},
        {1632, "Take the boat to get to the Egg Carrier."},
        {1868, "The Egg Carrier has crashed and is floating\nsomewhere in the ocean. Use this boat to get to it."},
        {1927, "Take this boat to get to the Egg Carrier."},
        {1921, "Something good may happen at the Casino area."},
        {1922, "Why don't you try going to the Casino?"},
        {1558, "You can go to the Casino area at nighttime."},
        {1928, "Why don't you try going to Angel Island?"},
        {1955, "You can break through the wall if you use dynamite."},
        {1561, "You can get into a certain building\nusing the Employee Card."},
        {1872, "Get to the beach by going through the hotel."},
        {1559, "Use the Ice Stone in the Mystic Ruins."},
        {1641, "Didn't you see a stone with an ice pattern on it?"},
        {1634, "The trolley car seems to be working.\nIt leads to the jungle."},
        {1572, "A train will be arriving soon. Please stand back."},
        {1654, "Passengers are requested to wait onboard the train."},
        {1656, "A train will be arriving soon. Please stand back."},
        {1630, "The train for Station Square has arrived."},
        {1869, "Go to the station to catch the train."},
        {1918, "The train seems to be moving now."},
        {1639, "If you have the Stone of Wind\ngusts of strong wind are known to blow in the caves."},
        {510, "Let's go!"},
        {995, "I'm so happy!"},
        {1731, "Alright!"},
        {1732, "Yay!"},
        {1733, "Alright!"},
        {291, "It's nice to have an ocean nearby."},
        {297, "I'd love to vacation here!"},
        {303, "I'm getting excited!"},
        {509, "Look here! It says; 'Cute couples get in free'!"},
        {875, "Look! It says cute couples can get in free!"},
        {876, "What are we waiting for?"},
        {314, "Arriving at Angel Island."},
        {285, "Train to Mystic Ruins confirmed."},
        {305, "Bumper car area confirmed."},
        {1346, "Yes!"},
        {1383, "Hurray!"},
        {1386, "Oh. Okay! Thanks."},
        {1389, "Hey; maybe we could use this."},
        {1745, "Wow; it's big!"},
        {1751, "Not too bad!"},
        {1760, "Super!"},
        {1765, "What's this?"},
        {1766, "Allright!"},
        {319, "Maybe I'll go home."},
        {304, "Twinkle Park?"},
        {1112, "This is beginning to blow my mind."},
        {1788, "Yeeah!"},
        {1790, "Found it!"},
        {1794, "Heh. Good enough."},
        {313, "I've got to get this island airborne again."},
        {296, "Great; a resort hotel."},
        {213, "Horray!"},
        {214, "I got it!"},
        {315, "Now this is more like it!"},
        {372, "Not bad; not bad at all!"},
        {400, "Aw; yeah!"},
        {401, "This is happenin'!"},
        {406, "Aw; yeah!"},
        {587, "Wow; what's this?"},
        {1835, "Hurray!"},
        {1837, "Let's get 'em!"},
        {1838, "Yes!"},
        {1839, "Woohoo!"},
        {1840, "Yes."},
        {1842, "*whistles* Sweet!"},
        {1844, "Yeah; not bad!"},
        {1849, "Yes!"},
        {1852, "Yeah!"},
        {1853, "Oh-kay!"},
        {312, "So; this is Angel Island!"},
        {300, "I'm not too fond of places like this."},
        {231, "I can hear the wind in the distance."},
        {424, "Tada!"},
        {1802, "Allright!"},
        {1803, "Yeeaah!"},
        {1812, "Cool."},
        {295, "This hotel is nice!"},
        {289, "Trains are cool; too!"}
    };
    
    std::map<int, std::string> _trapCommentMap = {
        {174, "Get a load of this!"},
        {171, "All systems; full power!"},
        {173, "Ah-ha!"},
        {178, "Ho ho! It's no use. Give up!"},
        {221, "Wha ha ha ha ha ha ha ha ha!"},
        {413, "Ha ha ha ha ha ha ha ha ha ha ha!"},
        {443, "Aha!"},
        {449, "Ha ha ha ha ha!"},
        {463, "Oh no; you don't!"},
        {465, "Ha ha ha ha ha ha ha ha ha!"},
        {474, "Ha ha ha ha ha ha!"},
        {562, "Ha ha ha ha ha!"},
        {569, "Ha ha ha ha ha!"},
        {650, "Gotcha!"},
        {924, "You can't get away this easily!"},
        {926, "Too late; buddy!"},
        {1059, "Ah ha hahahaha!"},
        {1072, "Mwuahahahahahahahahaha!"},
        {1376, "Ha ha ha ha ha ha!"},
        {1518, "Get a load of this!"},
        {1522, "Hahahahaha! I bet you weren't expecting this!"},
        {1525, "Haha hahahahaha!"},
        {1542, "I guess you weren't expecting that; were you?"},
        {1680, "You're not going to get away that easily. Huhahahaha."},
        {1903, "Take this!"},
        {1986, "Huhaha! Why don't you give up?"},
        {1987, "Ha ha! It's no use! Give up!"},
        {222, "Goodbye; Tails!"},
        {226, "Give up now; Tails!"},
        {217, "I've got you now; Tails."},
        {563, "Oh yes! Attack Sonic now!"},
        {922, "Where do you think you're going; Amy?"},
        {1436, "Ready men? Charge!"},
        {404, "You are completely surrounded!"},
        {405, "Surrender yourself!"},
        {407, "Lock on target men. Ready? Fire!"},
        {384, "You're gonna pay for what you've done!"},
        {849, "Hey; are you alright? You look kind of hurt."},
        {885, "Now; now; calm down."},
        {902, "I pity you."},
        {952, "Uh; you okay?"},
        {988, "Oh no! Are you okay?"},
        {990, "Now you're gonna get it!"},
        {1258, "I feel sorry for you."},
        {1493, "Here; take this!"},
        {888, "Nope!"},
        {365, "Are you guys okay?"},
        {1336, "Uh oh..."},
        {241, "The ice looks kinda tasty!"},
        {169, "Resistance is futile."},
        {385, "Target confirmed."},
        {1777, "Running impossible."},
        {1779, "Ha. Ha. Ha."},
        {269, "Blue hedgehog: enemy."},
        {386, "Blue hedgehog: enemy."},
        {382, "When will you ever learn?"},
        {383, "This time; you're finished!"},
        {1159, "Yeah! You're finished!"},
        {1981, "What's the matter? What're you waiting for?"},
        {496, "Ah; I wonder if he's okay."},
        {605, "Something buggin' you?"},
        {211, "See you later; Tails!"},
        {229, "What a nice breeze!"},
        {240, "Man; everything's frozen!"},
        {618, "Uh oh; what's this?"},
        {731, "Oops!"},
        {828, "Oops!"},
        {1333, "Oops!"},
        {1511, "All's well that ends well; right?"},
        {347, "Hey; come on!"},
        {506, "Whoa!!"},
        {517, "Ahh! Sonic! Help!"},
        {524, "Sonic; help me!"},
        {847, "Aahh!! Watch it; watch it!"},
        {851, "Ah! Uh oh!"},
        {872, "*shouts*"},
        {881, "*scream*"},
        {916, "*gasp*"},
        {923, "Eggman; no!"},
        {987, "*gasp*"},
        {1739, "Oo-oo-ooh!"},
        {1740, "Oh no!"},
        {1741, "Whoa!"},
        {1743, "Wah!"},
        {1742, "Bbrrr!"},
        {747, "Wwhooa!"},
        {1330, "Whoaaaa!!"},
        {1331, "Ouh!"},
        {1752, "*inhales*"},
        {1753, "Oh no."},
        {1755, "Oof!"},
        {1756, "Oh no!"},
        {1757, "Wah!!"},
        {1764, "Whooaa!!"},
        {164, "Oh no!"},
        {332, "Why?"},
        {380, "That's it. I've had enough!"},
        {475, "Ahh; Eggman!"},
        {1004, "What the!?"},
        {1006, "Oh no!"},
        {1010, "Ooph!"},
        {1011, "Auh! Euh! Hey; no fair!"},
        {1789, "Whoa!"},
        {1795, "Ohh!"},
        {1796, "I'm a goner."},
        {1799, "Whooa!"},
        {165, "Oh no!"},
        {167, "I've had enough!"},
        {170, "Oh no!"},
        {402, "Huh?"},
        {444, "Oh no!"},
        {460, "Hyyeeh!"},
        {464, "Aw; geesh!"},
        {476, "Uh oh!"},
        {502, "You must be kidding!"},
        {523, "Stop!"},
        {561, "Oh no! Not again!"},
        {582, "Agh; I hate Eggman!"},
        {1461, "What?!"},
        {1854, "Wwhoa!"},
        {1855, "Whoa!"},
        {239, "It's getting cold!"},
        {376, "H-hey; wait a minute!"},
        {619, "Noooo!"},
        {620, "Ahhhh!"},
        {623, "Ahhhh!"},
        {671, "Ahhhhh!"},
        {728, "Sstop!"},
        {748, "Yikes!!"},
        {802, "Oh no!"},
        {1801, "Whoo!"},
        {1814, "Augh!"}
    };
};
